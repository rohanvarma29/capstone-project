{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/rohan/Downloads/add-to-cart-master/add-to-cart-master/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nexport class LoginComponent {\n  constructor(formBuilder, _http, router) {\n    this.formBuilder = formBuilder;\n    this._http = _http;\n    this.router = router;\n  }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      userName: [''],\n      password: ['']\n    });\n  }\n\n  loginUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this.loginForm.value.userName === null || _this.loginForm.value.userName === '') {\n        alert('Username is a required field.');\n      } else if (_this.loginForm.value.password === null || _this.loginForm.value.password === '') {\n        alert('Password is a required field.');\n      } else {\n        const headers = {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        };\n\n        _this._http.post('http://localhost:8080/login', {\n          username: _this.loginForm.value.userName,\n          password: _this.loginForm.value.password\n        }, {\n          headers\n        }).subscribe(data => {\n          _this.retData = data.role;\n          console.log(_this.retData);\n          window.localStorage.setItem('login', 'true');\n          window.localStorage.setItem('role', _this.retData); // this.loginForm.reset();\n\n          if (\"ADMIN\" === _this.retData) {\n            _this.router.navigate(['/admin']);\n          } else {\n            _this.router.navigate(['/home']);\n          }\n        });\n      }\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 23,\n  vars: 1,\n  consts: [[1, \"main\"], [1, \"col-md-6\", \"col-sm-12\"], [1, \"login-main-text\"], [2, \"text-align\", \"center\"], [1, \"login-form\"], [\"name\", \"form1\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"userName\"], [\"formControlName\", \"userName\", \"type\", \"text\", \"required\", \"\", \"minlength\", \"4\", \"placeholder\", \"Enter your username\", 1, \"form-control\"], [1, \"form-group\", 2, \"margin-top\", \"20px\", \"margin-bottom\", \"20px\"], [\"for\", \"password\"], [\"formControlName\", \"password\", \"type\", \"password\", \"required\", \"\", \"minlength\", \"4\", \"placeholder\", \"Enter your password\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", 2, \"background-color\", \"orangered\", \"color\", \"white\"], [\"routerLink\", \"/signup\", 2, \"display\", \"flex\", \"justify-content\", \"center\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n      i0.ɵɵtext(4, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"p\", 3);\n      i0.ɵɵtext(6, \"Get access to your Orders, Wishlist and Recommendations.\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_8_listener() {\n        return ctx.loginUser();\n      });\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"label\", 7);\n      i0.ɵɵtext(11, \"Username\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 9)(14, \"label\", 10);\n      i0.ɵɵtext(15, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 12);\n      i0.ɵɵtext(18, \" Login \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"h2\", 3);\n      i0.ɵɵtext(20, \"OR\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"a\", 13);\n      i0.ɵɵtext(22, \" New here? Create an account \");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n    }\n  },\n  styles: [\".main[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCIiwiZmlsZSI6ImxvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubWFpbntcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcbiJdfQ== */\"]\n});","map":{"version":3,"mappings":";;;;;AAUA,OAAM,MAAOA,cAAP,CAAqB;EAIzBC,YACUC,WADV,EAEUC,KAFV,EAGUC,MAHV,EAGwB;IAFd;IACA;IACA;EACN;;EAEJC,QAAQ;IACN,KAAKC,SAAL,GAAiB,KAAKJ,WAAL,CAAiBK,KAAjB,CAAuB;MACtCC,QAAQ,EAAE,CAAC,EAAD,CAD4B;MAEtCC,QAAQ,EAAE,CAAC,EAAD;IAF4B,CAAvB,CAAjB;EAID;;EAEKC,SAAS;IAAA;;IAAA;MACb,IACE,KAAI,CAACJ,SAAL,CAAeK,KAAf,CAAqBH,QAArB,KAAkC,IAAlC,IACA,KAAI,CAACF,SAAL,CAAeK,KAAf,CAAqBH,QAArB,KAAkC,EAFpC,EAGE;QACAI,KAAK,CAAC,+BAAD,CAAL;MACD,CALD,MAKO,IACL,KAAI,CAACN,SAAL,CAAeK,KAAf,CAAqBF,QAArB,KAAkC,IAAlC,IACA,KAAI,CAACH,SAAL,CAAeK,KAAf,CAAqBF,QAArB,KAAkC,EAF7B,EAGL;QACAG,KAAK,CAAC,+BAAD,CAAL;MACD,CALM,MAKF;QACH,MAAMC,OAAO,GAAG;UAAE,UAAU,kBAAZ;UAAgC,gBAAgB;QAAhD,CAAhB;;QACA,KAAI,CAACV,KAAL,CAAWW,IAAX,CAAqB,6BAArB,EAAoD;UAAEC,QAAQ,EAAE,KAAI,CAACT,SAAL,CAAeK,KAAf,CAAqBH,QAAjC;UAA2CC,QAAQ,EAAE,KAAI,CAACH,SAAL,CAAeK,KAAf,CAAqBF;QAA1E,CAApD,EAAyI;UAACI;QAAD,CAAzI,EAAoJG,SAApJ,CAA8JC,IAAI,IAAG;UACnK,KAAI,CAACC,OAAL,GAAeD,IAAI,CAACE,IAApB;UACAC,OAAO,CAACC,GAAR,CAAY,KAAI,CAACH,OAAjB;UACAI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqC,MAArC;UACAF,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoC,KAAI,CAACN,OAAzC,EAJmK,CAKnK;;UACA,IAAG,YAAY,KAAI,CAACA,OAApB,EAA4B;YAC1B,KAAI,CAACd,MAAL,CAAYqB,QAAZ,CAAqB,CAAC,QAAD,CAArB;UACD,CAFD,MAEO;YACL,KAAI,CAACrB,MAAL,CAAYqB,QAAZ,CAAqB,CAAC,OAAD,CAArB;UACD;QACJ,CAXC;MAYD;IAzBY;EA0Bd;;AA3CwB;;;mBAAdzB,gBAAc0B;AAAA;;;QAAd1B;EAAc2B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCV3BL,+BAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB,EAAkB,CAAlB,EAAkB,KAAlB,EAAkB,CAAlB,EAAkB,CAAlB,EAAkB,IAAlB,EAAkB,CAAlB;MAGoCA;MAAKA;MACnCA;MAA6BA;MAAwDA;MAEvFA,+BAAwB,CAAxB,EAAwB,MAAxB,EAAwB,CAAxB;MACgCA;QAAA,OAAYM,eAAZ;MAAuB,CAAvB;MAC5BN,+BAAwB,EAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MACwBA;MAAQA;MAC9BA;MACFA;MACAA,gCAAoE,EAApE,EAAoE,OAApE,EAAoE,EAApE;MACwBA;MAAQA;MAC9BA;MACFA;MACAA;MAAsFA;MAAMA;MAC5FA;MAA8BA;MAAEA;MAChCA;MAAwEA;MAA4BA;;;;MAXhGA;MAAAA","names":["LoginComponent","constructor","formBuilder","_http","router","ngOnInit","loginForm","group","userName","password","loginUser","value","alert","headers","post","username","subscribe","data","retData","role","console","log","window","localStorage","setItem","navigate","i0","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\rohan\\Downloads\\add-to-cart-master\\add-to-cart-master\\src\\app\\component\\login\\login.component.ts","C:\\Users\\rohan\\Downloads\\add-to-cart-master\\add-to-cart-master\\src\\app\\component\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n})\nexport class LoginComponent implements OnInit {\n  loginForm!: FormGroup;\n  retData: any;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private _http: HttpClient,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loginForm = this.formBuilder.group({\n      userName: [''],\n      password: [''],\n    });\n  }\n\n  async loginUser() {\n    if (\n      this.loginForm.value.userName === null ||\n      this.loginForm.value.userName === ''\n    ) {\n      alert('Username is a required field.');\n    } else if (\n      this.loginForm.value.password === null ||\n      this.loginForm.value.password === ''\n    ) {\n      alert('Password is a required field.');\n    }else{\n      const headers = { 'Accept': 'application/json', 'Content-Type': 'application/json' };\n      this._http.post<any>('http://localhost:8080/login', { username: this.loginForm.value.userName, password: this.loginForm.value.password}, {headers}).subscribe(data => {\n        this.retData = data.role;\n        console.log(this.retData)\n        window.localStorage.setItem('login', 'true');\n        window.localStorage.setItem('role', this.retData);\n        // this.loginForm.reset();\n        if(\"ADMIN\" === this.retData){\n          this.router.navigate(['/admin']);\n        } else {\n          this.router.navigate(['/home']);\n        }\n    })\n    }\n  }\n}\n","<div class=\"main\">\r\n  <div class=\"col-md-6 col-sm-12\">\r\n    <div class=\"login-main-text\">\r\n      <h2 style=\"text-align:center\">Login</h2>\r\n      <p style=\"text-align:center\">Get access to your Orders, Wishlist and Recommendations.</p>\r\n    </div>\r\n    <div class=\"login-form\">\r\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"loginUser()\" name=\"form1\">\r\n        <div class=\"form-group\">\r\n          <label for=\"userName\">Username</label>\r\n          <input formControlName=\"userName\" type=\"text\" class=\"form-control\" required  minlength=\"4\" placeholder=\"Enter your username\" />\r\n        </div>\r\n        <div class=\"form-group\" style=\"margin-top:20px; margin-bottom:20px\">\r\n          <label for=\"password\">Password</label>\r\n          <input formControlName=\"password\" type=\"password\" class=\"form-control\" required minlength=\"4\" placeholder=\"Enter your password\" />\r\n        </div>\r\n        <button type=\"submit\" class=\"btn\" style=\"background-color: orangered; color: white\" > Login </button>\r\n        <h2 style=\"text-align:center\">OR</h2>\r\n        <a style=\"display: flex; justify-content: center\" routerLink=\"/signup\"> New here? Create an account </a>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module"}